<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BCAirline</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="./css/header.css" />
    <link rel="stylesheet" type="text/css" href="./css/member_form.css" />
  </head>
  <body>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <!-- 상단에 로고, 회원가입, Navbar 부분-->
<header class="my-header">
  <div class="container">
    <div class="top-header">
      <div class="header">
        <div class="logo"><a href="index.html">BCAirline</a></div>
        <div class="button-group">
          <a href="#" class="btn btn-primary">로그인</a>
          <a href="member_form.html" class="res-button">회원가입</a>
        </div>
      </div>
    </div>

    <nav class="navbar navbar-expand-lg bg-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Navbar</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Link</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Dropdown
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Action</a></li>
                <li>
                  <a class="dropdown-item" href="#">Another action</a>
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li>
                  <a class="dropdown-item" href="#">Something else here</a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link disabled">Disabled</a>
            </li>
          </ul>
          <form class="d-flex" role="search">
            <input
              class="form-control me-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
            />
            <button class="btn btn-outline-success" type="submit">
              Search
            </button>
          </form>
        </div>
      </div>
    </nav>
  </div>
</header>

<!-- 정보 입력하는 부분 -->
<div class="container">
  <div>회원가입</div>

  <div class="outer">
    <div class="summit-form">
      <div class="label">회원정보 입력</div>
      <div class="contents">
        <form class="container" id="signup-form">
          <div class="col">
            <label for="validationDefault01" class="form-label"
              >한글 성</label
            >
            <input
              type="text"
              class="form-control"
              id="validationDefault01"
              required
            />
          </div>
          <div class="col">
            <label for="validationDefault02" class="form-label"
              >한글 이름</label
            >
            <input
              type="text"
              class="form-control"
              id="validationDefault02"
              required
            />
          </div>
          <div class="col">
            <label for="validationDefault03" class="form-label"
              >영문 성</label
            >
            <input
              type="text"
              class="form-control"
              id="validationDefault03"
              required
            />
          </div>
          <div class="col">
            <label for="validationDefault04" class="form-label"
              >영문 이름</label
            >
            <input
              type="text"
              class="form-control"
              id="validationDefault04"
              required
            />
          </div>
          <div class="col">
            <label for="validationDefault05" class="form-label"
              >아이디</label
            >
            <input
              type="text"
              class="form-control"
              id="validationDefault05"
              required
            />
          </div>
          <div class="col">
            <label for="validationDefault06" class="form-label"
              >비밀번호</label
            >
            <input
              type="password"
              class="form-control"
              id="validationDefault06"
              required
            />
          </div>
          <div class="col">
            <label for="validationDefault07" class="form-label"
              >비밀번호 확인</label
            >
            <input
              type="password"
              class="form-control"
              id="validationDefault07"
              required
            />
          </div>
          <div class="col">
            <label for="validationDefault08" class="form-label"
              >생년월일 (YYYY.MM.DD.)</label
            >
            <input
              type="text"
              class="form-control"
              id="validationDefault08"
              required
            />
          </div>
          <div class="col">
            <label for="validationDefault09" class="form-label">성별</label>
            <div>
              <input
                type="radio"
                class="form-check-input"
                id="genderMale"
                name="gender"
                value="남자"
                required
              />
              <label class="form-check-label" for="genderMale">남자</label>
            </div>
            <div>
              <input
                type="radio"
                class="form-check-input"
                id="genderFemale"
                name="gender"
                value="여자"
                required
              />
              <label class="form-check-label" for="genderFemale"
                >여자</label
              >
            </div>
          </div>
          <div class="col">
            <label for="validationDefault10" class="form-label"
              >이메일 주소</label
            >
            <input
              type="email"
              class="form-control"
              id="validationDefault10"
              required
            />
          </div>
          <div class="col">
            <label for="validationDefault11" class="form-label"
              >이메일 주소 확인</label
            >
            <input
              type="email"
              class="form-control"
              id="validationDefault11"
              required
            />
          </div>
          <div class="col">
            <label for="validationDefault12" class="form-label"
              >휴대전화 번호</label
            >
            <input
              type="text"
              class="form-control"
              id="validationDefault12"
              value="010"
              required
            />
          </div>
          <div class="col">
            <label for="validationDefault13" class="form-label"
              >거주국가</label
            >
            <select class="form-select" id="validationDefault13" required>
              <option selected value="Korea (the Republic of)">
                Korea (the Republic of)
              </option>
              <option>EK</option>
              <option>USA</option>
              <option>China</option>
              <option>Japan</option>
            </select>
          </div>
          <div class="col-12">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="invalidCheck2"
                required
              />
              <label class="form-check-label" for="invalidCheck2">
                개인정보 제공에 동의합니다
              </label>
            </div>
          </div>
          <div class="col-12">
            <button class="btn btn-primary" type="submit">
              Submit form
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<h2>회원 정보</h2>
<ul id="member-list"></ul>
member
<script>
  // 회원 정보를 localStorage에 저장하는 함수
  function saveMemberInfo(member) {
      let members = JSON.parse(localStorage.getItem('members')) || [];
      members.push(member);
      localStorage.setItem('members', JSON.stringify(members));
  }

  // 회원 정보를 가져와서 화면에 출력하는 함수
  function displayMemberInfo() {
      let memberList = document.getElementById('member-list');
      memberList.innerHTML = '';

      let members = JSON.parse(localStorage.getItem('members')) || [];
      members.forEach(function(member) {
          let listItem = document.createElement('li');
          listItem.textContent = `
              한글 성: ${member.koreanLastName},
              한글 이름: ${member.koreanFirstName},
              영문 성: ${member.englishLastName},
              영문 이름: ${member.englishFirstName},
              이메일: ${member.email},
              성별: ${member.gender},
              전화번호: ${member.phoneNumber},
              거주 국가: ${member.residenceCountry}
          `;
          memberList.appendChild(listItem);
      });
  }   

  // 회원가입 폼 제출 시 실행되는 함수
  function handleSubmit(event) {
      event.preventDefault();

      let koreanLastName = document.getElementById('validationDefault01').value;
      let koreanFirstName = document.getElementById('validationDefault02').value;
      let englishLastName = document.getElementById('validationDefault03').value;
      let englishFirstName = document.getElementById('validationDefault04').value;
      let email = document.getElementById('validationDefault10').value;
      let gender = document.querySelector('input[name="gender"]:checked').value;
      let phoneNumber = document.getElementById('validationDefault12').value;
      let residenceCountry = document.getElementById('validationDefault13').value;

      let member = {
          koreanLastName: koreanLastName,
          koreanFirstName: koreanFirstName,
          englishLastName: englishLastName,
          englishFirstName: englishFirstName,
          email: email,
          gender: gender,
          phoneNumber: phoneNumber,
          residenceCountry: residenceCountry
      };

      saveMemberInfo(member);
      displayMemberInfo();

      event.target.reset();
  }
  //여기 serverURL부분을 수정하면 됨. localStorage에는 들어가 있는것 확인.
  /*
  const serverURL = 'https://example.com/api/members';

  // Axios POST request
  axios
    .post(serverURL, member)
    .then(response => {
      console.log('Member information sent successfully!');
      console.log(response.data); // Log the response from the server
    })
    .catch(error => {
      console.error('Error sending member information:', error);
    });
    */
  // 회원가입 폼 제출 이벤트 리스너 등록
  let form = document.getElementById('signup-form');
  form.addEventListener('submit', handleSubmit);

  // 페이지 로딩 시 회원 정보 출력
  displayMemberInfo();
</script>
